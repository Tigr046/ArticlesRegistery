@{
    ViewData["Title"] = "Статьи";
}
@section scripts{
    <script>
        $(document).ready(function () {
            fillArticleViewPage(0,10)
            $(window).scroll(function () {
                if ($(window).scrollTop() + $(window).height() == $(document).height()) {
                    setTimeout(() => {
                        fillArticleViewPage(Number($("#PageNumber").val()), Number($("#PageSize").val()) + 10)
                    }, 500);
                    
                }
            });
        })
        function fillArticleViewPage(pageNumber, pageSize) {
            $.ajax({
                url: '@Url.Action("Read", "Article")',
                data: { pageNumber: pageNumber, pageSize: pageSize },
                success: function (view) {
                    $("#articleViewDiv").html(view)
                    $("#PageNumber").val(pageNumber)
                    $("#PageSize").val(pageSize)

                }
                })
        }
    </script>
}
@Html.Hidden("PageNumber")
@Html.Hidden("PageSize")

<div id="articleViewDiv" class="row">

</div>